<%- include('../partials/header.ejs') %>
<div class="container">
  <div class="slides">
    <% slide.forEach(function(slide){ %>
    <div class="slide">
      <img src="<%= slide.img %>" alt="" />
    </div>
    <% }); %>
    <!-- <div class="slide-controls">
    <button id="prev-btn">
      <i class="fas fa-chevron-left"></i>
    </button>
    <button id="next-btn">
      <i class="fas fa-chevron-right"></i>
    </button>
    </div> -->
  </div>
</div>

  <div class="row justify-content-center">
    <h1 class="movie_head">Recommend</h1>
        <div class="card movie_card">
          <img src="https://www.joblo.com/assets/images/joblo/posters/2019/02/Dyow9RgX4AElAGN.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Toy Story 4</h5>
              <span class="movie_info">2019</span>
              <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
          </div>
        </div>
  
        <div class="card movie_card">
          <img src="https://www.joblo.com/assets/images/joblo/posters/2019/02/captin-marvel-poster-international.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Captain Marvel</h5>
              <span class="movie_info">2019</span>
              <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
          </div>
        </div>
  
        <div class="card movie_card">
          <img src="https://www.joblo.com/assets/images/joblo/posters/2019/01/Spider-Man-Far-From-Home-poster-1.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Spider-Man: Far From Home</h5>
              <span class="movie_info">2019</span>
              <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
          </div>
        </div>
  
        <div class="card movie_card " >
          <img src="https://www.joblo.com/assets/images/joblo/posters/2019/01/Alita-character-poster-1.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Alita: Battle Angel</h5>
              <span class="movie_info">2019</span>
              <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
          </div>
        </div>
  
        <div class="card movie_card">
          <img src="https://www.joblo.com/assets/images/joblo/posters/2018/11/Spider-Verse-poster-1.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Spider-Man: Into the Spider-Verse</h5>
              <span class="movie_info">2019</span>
              <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
          </div>
        </div>
  
        <div class="card movie_card">
          <img src="https://shoptrends.com/pub/media/catalog/product/cache/e6772dd5d7528380fb5dc1448d019df8/r/p/rp18431-1.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">FROZEN 2</h5>
              <span class="movie_info">2019</span>
              <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
          </div>
        </div>
    </div>

    <div class="row justify-content-center">
      <h1 class="movie_head">Top movies</h1>
          <div class="card movie_card">
            <img src="https://www.joblo.com/assets/images/joblo/posters/2019/02/Dyow9RgX4AElAGN.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Toy Story 4</h5>
                <span class="movie_info">2019</span>
                <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
            </div>
          </div>
    
          <div class="card movie_card">
            <img src="https://www.joblo.com/assets/images/joblo/posters/2019/02/captin-marvel-poster-international.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Captain Marvel</h5>
                <span class="movie_info">2019</span>
                <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
            </div>
          </div>
    
          <div class="card movie_card">
            <img src="https://www.joblo.com/assets/images/joblo/posters/2019/01/Spider-Man-Far-From-Home-poster-1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Spider-Man: Far From Home</h5>
                <span class="movie_info">2019</span>
                <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
            </div>
          </div>
    
          <div class="card movie_card " >
            <img src="https://www.joblo.com/assets/images/joblo/posters/2019/01/Alita-character-poster-1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Alita: Battle Angel</h5>
                <span class="movie_info">2019</span>
                <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
            </div>
          </div>
    
          <div class="card movie_card">
            <img src="https://www.joblo.com/assets/images/joblo/posters/2018/11/Spider-Verse-poster-1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Spider-Man: Into the Spider-Verse</h5>
                <span class="movie_info">2019</span>
                <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
            </div>
          </div>
    
          <div class="card movie_card">
            <img src="https://shoptrends.com/pub/media/catalog/product/cache/e6772dd5d7528380fb5dc1448d019df8/r/p/rp18431-1.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">FROZEN 2</h5>
                <span class="movie_info">2019</span>
                <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
            </div>
          </div>
      </div>
  

<div class="row justify-content-center">
  <h1 class="movie_head">Comming soon</h1>
			<div class="card movie_card">
        <img src="https://www.joblo.com/assets/images/joblo/posters/2019/02/Dyow9RgX4AElAGN.jpg" class="card-img-top" alt="...">
        <div class="card-body"> 
          <h5 class="card-title">Toy Story 4</h5>
            <span class="movie_info">2019</span>
            <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
        </div>
		  </div>

			<div class="card movie_card">
        <img src="https://www.joblo.com/assets/images/joblo/posters/2019/02/captin-marvel-poster-international.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Captain Marvel</h5>
            <span class="movie_info">2019</span>
            <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
        </div>
      </div>

			<div class="card movie_card">
        <img src="https://www.joblo.com/assets/images/joblo/posters/2019/01/Spider-Man-Far-From-Home-poster-1.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Spider-Man: Far From Home</h5>
            <span class="movie_info">2019</span>
            <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
        </div>
      </div>

			<div class="card movie_card " >
        <img src="https://www.joblo.com/assets/images/joblo/posters/2019/01/Alita-character-poster-1.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Alita: Battle Angel</h5>
            <span class="movie_info">2019</span>
            <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
        </div>
      </div>

			<div class="card movie_card">
        <img src="https://www.joblo.com/assets/images/joblo/posters/2018/11/Spider-Verse-poster-1.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Spider-Man: Into the Spider-Verse</h5>
            <span class="movie_info">2019</span>
            <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
        </div>
      </div>

      <div class="card movie_card">
        <img src="https://shoptrends.com/pub/media/catalog/product/cache/e6772dd5d7528380fb5dc1448d019df8/r/p/rp18431-1.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">FROZEN 2</h5>
            <span class="movie_info">2019</span>
            <span class="movie_info float-right"><i class="fas fa-star"></i> 9 / 10</span>
        </div>
      </div>
	</div>

<script>
  const slideContainer = document.querySelector('.container');
const slide = document.querySelector('.slides');
const nextBtn = document.getElementById('next-btn');
const prevBtn = document.getElementById('prev-btn');
const interval = 3000;

let slides = document.querySelectorAll('.slide');
let index = 1;
let slideId;

const firstClone = slides[0].cloneNode(true);
const lastClone = slides[slides.length - 1].cloneNode(true);

firstClone.id = 'first-clone';
lastClone.id = 'last-clone';

slide.append(firstClone);
slide.prepend(lastClone);

const slideWidth = slides[index].clientWidth;

slide.style.transform = `translateX(${-slideWidth * index}px)`;

console.log(slides);

const startSlide = () => {
  slideId = setInterval(() => {
    moveToNextSlide();
  }, interval);
};

const getSlides = () => document.querySelectorAll('.slide');

slide.addEventListener('transitionend', () => {
  slides = getSlides();
  if (slides[index].id === firstClone.id) {
    slide.style.transition = 'none';
    index = 1;
    slide.style.transform = `translateX(${-slideWidth * index}px)`;
  }

  if (slides[index].id === lastClone.id) {
    slide.style.transition = 'none';
    index = slides.length - 2;
    slide.style.transform = `translateX(${-slideWidth * index}px)`;
  }
});

const moveToNextSlide = () => {
  slides = getSlides();
  if (index >= slides.length - 1) return;
  index++;
  slide.style.transition = '.7s ease-out';
  slide.style.transform = `translateX(${-slideWidth * index}px)`;
};

const moveToPreviousSlide = () => {
  if (index <= 0) return;
  index--;
  slide.style.transition = '.7s ease-out';
  slide.style.transform = `translateX(${-slideWidth * index}px)`;
};

slideContainer.addEventListener('mouseenter', () => {
  clearInterval(slideId);
});

slideContainer.addEventListener('mouseleave', startSlide);
nextBtn.addEventListener('click', moveToNextSlide);
prevBtn.addEventListener('click', moveToPreviousSlide);

startSlide();

</script>

<!-- <style>
  * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
.container {
  margin: 0 auto;
  width: 100%;
  height: 400px;
  position: relative;
  /* overflow: hidden; */
}
.slides {
  display: flex;
  height: 100%;
}
.slide {
  min-width: 100%;
  position: relative;
}
.slide img {
  width: 100%;
  height: 100%;
}
.slide-controls {
  position: absolute;
  top: 50%;
  left: 0;
  transform: translateY(-50%);
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
#next-btn,
#prev-btn {
  cursor: pointer;
  background: transparent;
  font-size: 30px;
  border: none;
  padding: 10px;
  color: gray;
}
#next-btn:focus,
#prev-btn:focus {
  outline: none;
}
.slide-content {
  position: absolute;
  top: 50%;
  left: 50px;
  transform: translateY(-50%);
  font-size: 60px;
  color: white;
}


img {
-webkit-user-drag: none;
-moz-user-drag: none;
-o-user-drag: none;
}
img {
pointer-events: none;
}
.movie_head{
  margin: 30px 0 0 310px;
}
.movie_card{
padding: 0 !important;
width: 15rem;
margin:14px; 
border-radius: 10px;
box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.2), 0 4px 15px 0 rgba(0, 0, 0, 0.19);
}
.movie_card img{
border-top-left-radius: 10px;
border-top-right-radius: 10px;
height: 20rem;
}
.movie_info{
color: #5e5c5c;
}

.movie_info i{
font-size: 20px;
}
.card-title{
width: 80%;
height: 4rem;
}
.play_button{
background-color: #ff3d49;
 position: absolute;
width: 60px;
height: 60px;
border-radius: 50%;
right: 20px;
bottom: 111px;
font-size: 27px;
padding-left: 21px;
padding-top: 16px;
color: #FFFFFF;
cursor: pointer;
}
</style> -->

<%- include('../partials/footer.ejs') %>